{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';// Routerin käyttö navigointiin\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[credentials,setCredentials]=useState({username:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setError('');try{const response=await axios.post('https://renderitestaus.onrender.com/api/login',credentials);navigate('/palvelu');}catch(err){var _err$response,_err$response$data;const message=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Yhteys epäonnistui';setError('Virhe kirjautumisessa: '+message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Kirjaudu sis\\xE4\\xE4n\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"K\\xE4ytt\\xE4j\\xE4nimi:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:credentials.username,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Salasana:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Kirjaudu\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","credentials","setCredentials","username","password","error","setError","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","response","post","err","_err$response","_err$response$data","message","data","children","style","color","onSubmit","type","onChange","required"],"sources":["C:/Users/23741/Documents/user-management-app/user-management-app/renderapp/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom'; // Routerin käyttö navigointiin\r\n\r\nfunction Login() {\r\n    const [credentials, setCredentials] = useState({ username: '', password: '' });\r\n    const [error, setError] = useState('');\r\n    const navigate = useNavigate(); \r\n\r\n    const handleChange = (e) => {\r\n        setCredentials({\r\n            ...credentials,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        try {\r\n            const response = await axios.post('https://renderitestaus.onrender.com/api/login', credentials);\r\n            navigate('/palvelu'); \r\n        \r\n        } catch (err) {\r\n            const message = err.response?.data?.message || 'Yhteys epäonnistui';\r\n            setError('Virhe kirjautumisessa: ' + message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <h2>Kirjaudu sisään</h2>\r\n\r\n            {error && <p style={{ color: 'red' }}>{error}</p>}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    Käyttäjänimi:\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"username\"\r\n                        value={credentials.username}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </label>\r\n                <br />\r\n                <label>\r\n                    Salasana:\r\n                    <input\r\n                        type=\"password\"\r\n                        name=\"password\"\r\n                        value={credentials.password}\r\n                        onChange={handleChange}\r\n                        required\r\n                    />\r\n                </label>\r\n                <br />\r\n                <button type=\"submit\">Kirjaudu</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,CAAEU,QAAQ,CAAE,EAAE,CAAEC,QAAQ,CAAE,EAAG,CAAC,CAAC,CAC9E,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,YAAY,CAAIC,CAAC,EAAK,CACxBP,cAAc,CAAC,CACX,GAAGD,WAAW,CACd,CAACQ,CAAC,CAACC,MAAM,CAACC,IAAI,EAAGF,CAAC,CAACC,MAAM,CAACE,KAC9B,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAJ,CAAC,EAAK,CAC9BA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBR,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACA,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAArB,KAAK,CAACsB,IAAI,CAAC,+CAA+C,CAAEf,WAAW,CAAC,CAC/FM,QAAQ,CAAC,UAAU,CAAC,CAExB,CAAE,MAAOU,GAAG,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACV,KAAM,CAAAC,OAAO,CAAG,EAAAF,aAAA,CAAAD,GAAG,CAACF,QAAQ,UAAAG,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcG,IAAI,UAAAF,kBAAA,iBAAlBA,kBAAA,CAAoBC,OAAO,GAAI,oBAAoB,CACnEd,QAAQ,CAAC,yBAAyB,CAAGc,OAAO,CAAC,CACjD,CACJ,CAAC,CAED,mBACIrB,KAAA,QAAAuB,QAAA,eACIzB,IAAA,OAAAyB,QAAA,CAAI,uBAAe,CAAI,CAAC,CAEvBjB,KAAK,eAAIR,IAAA,MAAG0B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAF,QAAA,CAAEjB,KAAK,CAAI,CAAC,cAEjDN,KAAA,SAAM0B,QAAQ,CAAEZ,YAAa,CAAAS,QAAA,eACzBvB,KAAA,UAAAuB,QAAA,EAAO,wBAEH,cAAAzB,IAAA,UACI6B,IAAI,CAAC,MAAM,CACXf,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEX,WAAW,CAACE,QAAS,CAC5BwB,QAAQ,CAAEnB,YAAa,CACvBoB,QAAQ,MACX,CAAC,EACC,CAAC,cACR/B,IAAA,QAAK,CAAC,cACNE,KAAA,UAAAuB,QAAA,EAAO,WAEH,cAAAzB,IAAA,UACI6B,IAAI,CAAC,UAAU,CACff,IAAI,CAAC,UAAU,CACfC,KAAK,CAAEX,WAAW,CAACG,QAAS,CAC5BuB,QAAQ,CAAEnB,YAAa,CACvBoB,QAAQ,MACX,CAAC,EACC,CAAC,cACR/B,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQ6B,IAAI,CAAC,QAAQ,CAAAJ,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACrC,CAAC,EACN,CAAC,CAEd,CAEA,cAAe,CAAAtB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}